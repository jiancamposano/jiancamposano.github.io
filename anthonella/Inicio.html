<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Galería</title>

  <style>
    *{ box-sizing: border-box; }

    /* ✅ BLOQUEO TOTAL DE SCROLL HASTA EL PRIMER CLIC */
    html.lock, body.lock{
      overflow: hidden !important;
      height: 100%;
      touch-action: none;
      overscroll-behavior: none;
    }

    html, body{
      margin: 0;
      padding: 0;
      width: 100%;
      background: #000;
    }

    .wrap{ width: 100%; margin: 0; padding: 0; }

    .tile{
      width: 100%;
      height: 100vh;
      margin: 0;
      padding: 0;

      background-repeat: no-repeat;
      background-size: cover;
      background-position: center;
      background-color: #000;

      display: block;
      position: relative;
      overflow: hidden;
    }

    @supports (height: 100svh){ .tile{ height: 100svh; } }
    @supports (height: 100dvh){ .tile{ height: 100dvh; } }

    .tile-2{ background-position: center center; }

    #audioUnlock{
      position: fixed;
      inset: 0;
      z-index: 9999;
      background: rgba(0,0,0,0);
      cursor: pointer;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }

    /* ===========================
       ✨ ESTRELLAS REALISTAS (SVG sparkle)
       =========================== */
    .sparkle-layer{
      position: absolute;
      inset: 0;
      pointer-events: none;
      z-index: 1;
      animation: layerDrift 7s linear infinite;
      will-change: transform;
    }

    .sparkle{
      position: absolute;
      width: 26px;
      height: 26px;
      opacity: .35;
      animation: twinkle 2.2s ease-in-out infinite;
      will-change: transform, opacity;
      filter:
        drop-shadow(0 0 10px rgba(255,255,255,.75))
        drop-shadow(0 0 26px rgba(255,255,255,.35));
    }

    .sparkle.s{ width: 18px; height: 18px; }
    .sparkle.m{ width: 26px; height: 26px; }
    .sparkle.l{ width: 34px; height: 34px; }

    .sparkle.t2{ animation-duration: 2.8s; }
    .sparkle.t3{ animation-duration: 3.6s; }

    .sparkle svg{ width: 100%; height: 100%; display:block; }

    @keyframes twinkle{
      0%,100%{ opacity: .18; transform: scale(.85) rotate(0deg); }
      50%    { opacity: 1;   transform: scale(1.25) rotate(10deg); }
    }

    @keyframes layerDrift{
      0%   { transform: translateY(20px) translateX(0px); }
      100% { transform: translateY(-90px) translateX(12px); }
    }

    @media (prefers-reduced-motion: reduce){
      .sparkle-layer{ animation: none; }
      .sparkle{ animation: none; opacity: .7; }
    }

    /* ===========================
       GRID 5 (cronómetro) - más chico + lila
       =========================== */
    .tile.countdown-tile{
      height: auto !important;
      min-height: 0 !important;
      padding: 12px 0;
      background: #C192F5 !important;
      background-image: none !important;
      position: relative;
      overflow: hidden;
    }

    .countdown-inner{
      width: 100%;
      max-width: 980px;
      margin: 0 auto;
      padding: 0 12px;
      display: grid;
      place-items: center;
      position: relative;
      overflow: hidden;
    }

    .tickcounter{
      margin: 0 !important;
      position: relative;
      z-index: 2;
    }

    /* ===========================
       GRID 6 (botón) - casi tamaño botón
       =========================== */
    .tile.maps-tile{
      height: auto !important;
      min-height: 0 !important;
      padding: 20px 0 26px;
      background-size: cover;
      background-position: center;
      position: relative;
      overflow: hidden;
    }

    .maps-inner{
      width: 100%;
      display: grid;
      place-items: center;
      padding: 0 14px;
      position: relative;
      overflow: hidden;
    }

    /* ✅ BOTÓN MEJORADO (tipografía + icono + contraste) */
    .maps-btn{
      appearance: none;
      border: 1px solid rgba(255,255,255,.65);
      border-radius: 999px;

      /* tipografía bonita sin cargar fuentes */
      font-family: ui-rounded, "SF Pro Rounded", "Segoe UI Variable", "Segoe UI", system-ui, -apple-system, Arial, sans-serif;
      font-size: 16px;
      font-weight: 900;
      letter-spacing: .2px;

      padding: 14px 18px;
      cursor: pointer;

      /* contraste fuerte + glass */
      background: rgba(255,255,255,.92);
      color: #1b0b22;

      box-shadow:
        0 16px 40px rgba(0,0,0,.42),
        inset 0 1px 0 rgba(255,255,255,.75);

      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);

      width: min(86vw, 340px);
      transition: transform .08s ease, filter .2s ease, box-shadow .2s ease;
      position: relative;
      z-index: 2;

      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
    }

    /* borde “brillo” */
    .maps-btn::before{
      content:"";
      position:absolute;
      inset: 2px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.55);
      pointer-events:none;
    }

    /* efecto hover */
    .maps-btn:hover{
      filter: brightness(1.03);
      box-shadow:
        0 18px 46px rgba(0,0,0,.48),
        inset 0 1px 0 rgba(255,255,255,.8);
    }

    .maps-btn:active{ transform: scale(.98); }

    .btn-icon{
      width: 34px;
      height: 34px;
      border-radius: 999px;
      display: grid;
      place-items: center;

      /* toque femenino suave */
      background: linear-gradient(135deg, rgba(255,182,193,.95), rgba(221,160,221,.95));
      box-shadow:
        0 10px 20px rgba(0,0,0,.20),
        inset 0 1px 0 rgba(255,255,255,.65);
      color: #2b1032;
      flex: 0 0 auto;
    }

    .btn-text{
      line-height: 1;
      white-space: nowrap;
    }

    @media (min-width: 900px){
      .tile.countdown-tile{ padding: 16px 0; }
      .tile.maps-tile{ padding: 24px 0 30px; }
    }
  </style>
</head>

<body>
  <audio id="bgMusic" src="./musica1.mp3" preload="auto" loop></audio>
  <div id="audioUnlock" aria-label="Toca para iniciar música"></div>

  <!-- Plantilla SVG reutilizable (no se ve) -->
  <svg width="0" height="0" style="position:absolute">
    <defs>
      <symbol id="sparkleShape" viewBox="0 0 64 64">
        <path d="M32 6
                 C34 18 38 26 50 32
                 C38 38 34 46 32 58
                 C30 46 26 38 14 32
                 C26 26 30 18 32 6Z"
              fill="white" fill-opacity="0.95"/>
        <circle cx="32" cy="32" r="6" fill="white" fill-opacity="0.85"/>
      </symbol>
    </defs>
  </svg>

  <main class="wrap" id="wrap">
    <!-- GRID 1 -->
    <section class="tile" data-img="4.png">
      <div class="sparkle-layer" style="animation-duration:7.2s">
        <div class="sparkle l t2" style="left:12%; top:22%"><svg><use href="#sparkleShape"/></svg></div>
        <div class="sparkle m"    style="left:44%; top:16%"><svg><use href="#sparkleShape"/></svg></div>
        <div class="sparkle s t3" style="left:78%; top:30%"><svg><use href="#sparkleShape"/></svg></div>
        <div class="sparkle m"    style="left:84%; top:72%"><svg><use href="#sparkleShape"/></svg></div>
        <div class="sparkle s t2" style="left:22%; top:78%"><svg><use href="#sparkleShape"/></svg></div>
      </div>
    </section>

    <!-- GRID 2 -->
    <section class="tile tile-2" data-img="5.png">
      <div class="sparkle-layer" style="animation-duration:8s">
        <div class="sparkle m"    style="left:10%; top:25%"><svg><use href="#sparkleShape"/></svg></div>
        <div class="sparkle l t2" style="left:50%; top:15%"><svg><use href="#sparkleShape"/></svg></div>
        <div class="sparkle s t3" style="left:88%; top:28%"><svg><use href="#sparkleShape"/></svg></div>
        <div class="sparkle m"    style="left:76%; top:78%"><svg><use href="#sparkleShape"/></svg></div>
        <div class="sparkle s t2" style="left:28%; top:72%"><svg><use href="#sparkleShape"/></svg></div>
      </div>
    </section>

    <!-- GRID 3 -->
    <section class="tile" data-img="3.png">
      <div class="sparkle-layer" style="animation-duration:7.4s">
        <div class="sparkle l t3" style="left:16%; top:18%"><svg><use href="#sparkleShape"/></svg></div>
        <div class="sparkle m"    style="left:46%; top:28%"><svg><use href="#sparkleShape"/></svg></div>
        <div class="sparkle s t2" style="left:82%; top:22%"><svg><use href="#sparkleShape"/></svg></div>
        <div class="sparkle m"    style="left:72%; top:76%"><svg><use href="#sparkleShape"/></svg></div>
        <div class="sparkle s"    style="left:26%; top:74%"><svg><use href="#sparkleShape"/></svg></div>
      </div>
    </section>

    <!-- GRID 4 -->
    <section class="tile" data-img="1.png">
      <div class="sparkle-layer" style="animation-duration:7.8s">
        <div class="sparkle m"    style="left:14%; top:30%"><svg><use href="#sparkleShape"/></svg></div>
        <div class="sparkle l t2" style="left:54%; top:20%"><svg><use href="#sparkleShape"/></svg></div>
        <div class="sparkle s t3" style="left:90%; top:34%"><svg><use href="#sparkleShape"/></svg></div>
        <div class="sparkle m"    style="left:78%; top:72%"><svg><use href="#sparkleShape"/></svg></div>
        <div class="sparkle s t2" style="left:30%; top:78%"><svg><use href="#sparkleShape"/></svg></div>
      </div>
    </section>

    <!-- GRID 5: Cronómetro -->
    <section class="tile countdown-tile">
      <div class="countdown-inner">
        <div class="sparkle-layer" style="opacity:.75; animation-duration:8.6s">
          <div class="sparkle m" style="left:12%; top:22%"><svg><use href="#sparkleShape"/></svg></div>
          <div class="sparkle l" style="left:52%; top:18%"><svg><use href="#sparkleShape"/></svg></div>
          <div class="sparkle s" style="left:86%; top:26%"><svg><use href="#sparkleShape"/></svg></div>
          <div class="sparkle m" style="left:76%; top:78%"><svg><use href="#sparkleShape"/></svg></div>
          <div class="sparkle s" style="left:22%; top:76%"><svg><use href="#sparkleShape"/></svg></div>
        </div>

        <script>
          (function(d, s, id) {
            var js, pjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s);
            js.id = id;
            js.src = "//www.tickcounter.com/static/js/loader.js";
            pjs.parentNode.insertBefore(js, pjs);
          }(document, "script", "tickcounter-sdk"));
        </script>

        <a
          data-type="countdown"
          data-id="9377357"
          class="tickcounter"
          style="display:block; left:0; width:100%; height:0; position:relative; padding-bottom:25%; margin:0 auto;"
          title="My countdown"
          href="//www.tickcounter.com/"
        >
          My countdown
        </a>
      </div>
    </section>

    <!-- GRID 6: Botón -->
    <section class="tile maps-tile" data-img="6.png">
      <div class="maps-inner">
        <div class="sparkle-layer" style="opacity:.85; animation-duration:8.2s">
          <div class="sparkle l t3" style="left:18%; top:18%"><svg><use href="#sparkleShape"/></svg></div>
          <div class="sparkle m"    style="left:50%; top:26%"><svg><use href="#sparkleShape"/></svg></div>
          <div class="sparkle s t2" style="left:88%; top:22%"><svg><use href="#sparkleShape"/></svg></div>
          <div class="sparkle m"    style="left:78%; top:76%"><svg><use href="#sparkleShape"/></svg></div>
          <div class="sparkle s"    style="left:28%; top:74%"><svg><use href="#sparkleShape"/></svg></div>
        </div>

        <button class="maps-btn" id="mapsBtn" type="button" aria-label="Ver ubicación">
          <span class="btn-icon" aria-hidden="true">
            <!-- Casa agradable (SVG) -->
            <svg viewBox="0 0 24 24" width="20" height="20" fill="none">
              <path d="M3 10.6 12 3l9 7.6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M5.5 10.5V21h13V10.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M10 21v-6.2c0-1.1.9-2 2-2s2 .9 2 2V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </span>
          <span class="btn-text">Ver ubicación</span>
        </button>
      </div>
    </section>
  </main>

  <script>
    // ✅ Bloquear scroll al inicio
    document.documentElement.classList.add("lock");
    document.body.classList.add("lock");

    // Fondos
    document.querySelectorAll("[data-img]").forEach(el => {
      const file = el.getAttribute("data-img");
      el.style.backgroundImage = `url("./${file}")`;
    });

    // Maps
    document.getElementById("mapsBtn").addEventListener("click", () => {
      window.location.href = "https://maps.app.goo.gl/YW2TpVxHh1Wonu2j9";
    });

    // Audio
    const audio = document.getElementById("bgMusic");
    const unlock = document.getElementById("audioUnlock");

    function enableScroll(){
      document.documentElement.classList.remove("lock");
      document.body.classList.remove("lock");
    }

    async function startAudio(){
      try{
        audio.muted = false;
        await audio.play();
        unlock.style.display = "none";
        enableScroll();
      } catch (e) {}
    }

    unlock.addEventListener("pointerdown", startAudio, { passive: true });
    unlock.addEventListener("touchstart", startAudio, { passive: true });
    unlock.addEventListener("click", startAudio);

    document.addEventListener("visibilitychange", () => {
      if (!document.hidden && unlock.style.display === "none" && audio.paused) {
        audio.play().catch(()=>{});
      }
    });
  </script>
</body>
</html>
